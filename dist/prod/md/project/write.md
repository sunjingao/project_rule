# 编写规范
此规范为平时开发自行总结的，会不断扩展

## 规则
注释：  
规则：变量名及函数名一定要有注释；有特殊处理的地方要有注释。  
原因：  
虽然自己认为代码编写很清楚，但是接手的人未必觉得清楚。而且状态较多的时候，如果不加以说明，则需要更多的阅读时间。
有些特殊的逻辑，比如后端要求，在传递某种类型的时候，需要做下转换，这种特殊处理的时候要加下注释。

清晰：  
规则：如果确定只有两种情况的时候是可以用三元运算符的，但是当条件大于两个，建议用if-else或者switch case  
原因：  
不是代码越少就越好维护，能够清晰的表现出逻辑且方便扩展的代码才是更好的

编码/解码：  
规则：编码应该使用两次编码，解码应该解码两次。  
原因：存在 传递内容时会自动解码/第三方库无法上传特殊字符 的情况，所以限定好编码和解码都要两次可以减少问题的出现。

硬编码：  
规则：存在code等内容，其应该按照规则放置在全局文件中，后续的使用均使用同一个code  
原因：  
随着业务的扩展，硬编码的意义可能会改变，如果不适用统一的内容，改造会比较麻烦且可能出现疏漏。

冗余：  
规则：编写后的代码不能存在冗余代码。  
原因：  
如果功能大体相同，可以复制代码，但是要进行检查，多余的功能的代码要进行删减及调整。

Url解析：  
规则：Url上面的参数内容需要放置在meta字段中；解析放置于代码顶部  
原因：  
存在查看入参内容的情况，放置到meta中能够快速且清晰的标识出当前页面在什么情况需要传递什么参数。
相同的功能放置在一起，对于参数的解析最好都放置在代码顶部，代码更加清楚

异常判断：  
规则：当存在可以return的情况，其内容应该放在代码的最上方  
原因：  
按照这种规则代码更加清晰

提示：  
规则：当发送完信息后，需要有对应的成功/失败提示；要有对应的loading效果。  
原因：  
当用户进行操作后，当前操作的效果给与用户提示会更加友好。  
因为接口会有一定的网络延迟时间，否则用户可能会一直点击，进行多次操作，增加loading效果可以更加清晰，减少接口调用次数。

初始化：  
规则：初始化的内容放到生命周期中  
原因：  
不要在不同位置都有调用函数的内容，很不清晰，可以放到生命周期中，方便查看及调整。

复用：  
规则：不同的页面，名字不要取独立特殊的。  
原因：  
很多页面的很多内容都是可以复用的，比如留存分析页面的form部分和事件分析的form部分基本相同，大体可以复用，但是如果名字分别叫retainForm或eventForm，就会需要调整一下，所以各个页面的命名要尽可能的一致，方便复用。

函数声明：  
规则：不要通过const来声明一个函数  
原因：  
函数即使在下方声明，也相当于在当前函数作用域的最上面声明，如果作为一个变量则不会有这个功能；而且函数就是函数，为什么要作为一个变量声明呢？

组件参数传递：  
规则：需要哪些字段就传递哪些字段，不要把多余的字段都传进去  
原因：  
比如组件需要一个数组，每一项的内容都需要localLable、localValue，而后端返回的数组中，每项除了这两个字段，还有其它好多的字段。直接将后端返回的内容传递进去是可以的。  
但是对于新接手项目的人而言，在组装组件参数的时候就会很困惑，甚至需要去查看组件源码才能知道自己需要传递哪些内容，在不断更换人员开发的过程中，就会耗费一定的阅读时间及沟通成本。

统一处理：  
规则：对于某些功能的内容，尽量在固定的位置一次性处理好。  
原因：  
比如某个页面，包含新建以及编辑功能，新建需要自己初始化数据，而编辑则会由后端返回数据，这时候，最好在页面入口处就根据规则把数据处理好，然后下发到各个组件中，否则组件的层级很深，都在自己需要的位置进行初始化，对于接手的人，就会非常麻烦。



